{"version":3,"sources":["App.tsx","reportWebVitals.ts","index.tsx"],"names":["dayjs","extend","duration","relativeTime","initialState","numerator","denominator","sentence","days","months","years","App","reductionBodyRef","useRef","useState","state","setState","updateState","useCallback","e","current","target","name","value","updateSentence","parseInt","focusOnReduction","focus","console","log","totalDays","totalMonths","newSentenceDays","Math","floor","newSentenceMonths","newSentence","className","htmlFor","type","min","max","size","maxLength","id","onChange","onClick","ref","readOnly","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.4526e053.chunk.js","sourcesContent":["import React, { useCallback, useRef, useState } from 'react';\nimport './App.scss';\n// import * as dayjs from 'dayjs'\nimport dayjs from 'dayjs';\n// import 'dayjs/locale/zh-cn' // import locale\n\n\n// var dayjs = require('dayjs');\n// var duration: any = require('dayjs/plugin/duration').\nimport duration from 'dayjs/plugin/duration';\nimport relativeTime from 'dayjs/plugin/relativeTime';\ndayjs.extend(duration);\ndayjs.extend(relativeTime)\n\n\ninterface ISentence {\n  days: number,\n  months: number,\n  years: number\n}\n\ninterface IState {\n  numerator: number,\n  denominator: number,\n  sentence: ISentence\n}\n\nconst initialState: IState = {\n  numerator: 1,\n  denominator: 6,\n  sentence: {\n    days: 20,\n    months: 0,\n    years: 0\n  }\n}\n\nconst App = () => {\n  let reductionBodyRef = useRef(null);\n  const [state, setState] = useState(initialState);\n  const updateState = useCallback(e => setState(current => ({ ...current, [e.target.name]: e.target.value })), []);\n  const updateSentence = useCallback(e => setState(current => ({ ...current, sentence: {\n    ...current.sentence,\n    [e.target.name]: parseInt(e.target.value) || 0\n  }})), []);\n\n  const focusOnReduction = useCallback(() => {\n    if (reductionBodyRef.current) {\n      (reductionBodyRef.current as any).focus();\n      console.log(50, 'focus');\n    }\n  }, []);\n  // const newSentence = dayjs.duration({\n  //   days: state.sentence.days,\n  //   months: state.sentence.months,\n  //   years: state.sentence.years\n  // });\n  const totalDays = state.sentence.days + state.sentence.months*30 + state.sentence.years*365;\n  const totalMonths = state.sentence.months + state.sentence.years*12;\n  const newSentenceDays = Math.floor(totalDays*state.numerator/state.denominator);\n  const newSentenceMonths = totalMonths*state.numerator/state.denominator;\n  console.log(52, totalDays, newSentenceDays);\n  // const newSentence = dayjs.duration(newSentenceDays, 'days');\n  const newSentence = { years: 0, months: 0, days: 0 };\n  // newSentence.years = Math.floor(newSentenceDays/365);\n  // newSentence.months = Math.floor((newSentenceDays - newSentence.years*365)/30);\n  // newSentence.days = newSentenceDays - newSentence.years*365 - newSentence.months*30;\n  newSentence.years = Math.floor(newSentenceMonths/12);\n  newSentence.months = Math.floor(newSentenceMonths) % 12;\n  console.log(55, newSentenceMonths, Math.floor(newSentenceMonths));\n  // newSentence.days = Math.floor((newSentenceMonths - Math.floor(newSentenceMonths))*30 + state.sentence.days);\n  newSentence.days = Math.floor(((totalMonths*state.numerator % state.denominator)*30 + state.sentence.days)*state.numerator/state.denominator);\n  console.log(58, newSentence);\n  return (\n    <div className=\"w-100 h-100 d-flex justify-content-center align-items-center\">\n      <div className=\"p-4 d-flex flex-column card\">\n\n        <div className=\"mb-2 card\">\n          <div className=\"card-header\">\n            Sentença\n          </div>\n          <div className=\"card-body\">\n\n            <div className=\"row\">\n              <label className=\"col-sm-5 col-form-label\" htmlFor=\"sentence-days\">Dias: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"days\" type=\"number\" min=\"0\" max=\"31\" size={2} maxLength={2}\n                  aria-label=\"Dias da sentença original\"\n                  className=\"ml-1 form-control\" id=\"sentence-days\"\n                  value={state.sentence.days} onChange={updateSentence} />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <label className=\"col-sm-5 col-form-label\" htmlFor=\"sentence-months\">Meses: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"months\" type=\"number\" min=\"0\" max=\"12\" size={2} maxLength={2}\n                  aria-label=\"Meses da sentença original\"\n                  className=\"ml-1 form-control\" id=\"sentence-months\"\n                  value={state.sentence.months} onChange={updateSentence} />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <label className=\"col-sm-5 col-form-label\" htmlFor=\"sentence-years\">Anos: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"years\" type=\"number\" min=\"0\" size={3} maxLength={3}\n                  aria-label=\"Anos da sentença original\"\n                  className=\"ml-1 form-control\" id=\"sentence-years\"\n                  value={state.sentence.years} onChange={updateSentence} />\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <div className=\"mb-2 card\">\n          <div className=\"card-header\">\n            Fração\n          </div>\n          <div className=\"card-body\">\n\n            <div className=\"row\">\n              <label className=\"col-sm-7 col-form-label\" htmlFor=\"fraction-numerator\">Numerador: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"numerator\" type=\"number\" min=\"0\" size={3} maxLength={3}\n                  aria-label=\"Numerador da fração\"\n                  className=\"ml-1 form-control\" id=\"fraction-numerator\"\n                  value={state.numerator} onChange={updateState} />\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <label className=\"col-sm-7 col-form-label\" htmlFor=\"fraction-denominator\">Denominador: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"denominator\" type=\"number\" min=\"0\" size={3} maxLength={3}\n                  aria-label=\"Denominador da fração\"\n                  className=\"ml-1 form-control\" id=\"fraction-denominator\"\n                  value={state.denominator} onChange={updateState} />\n              </div>\n            </div>\n\n          </div>\n        </div>\n\n        <button onClick={focusOnReduction}>Atualizar redução</button>\n\n        <div className=\"mb-2 card\">\n          <div className=\"card-header\">\n            Redução de sentença:\n          </div>\n\n          <div className=\"card-body\" ref={reductionBodyRef}>\n            <div className=\"row\">\n              <label className=\"col-sm-5 col-form-label\">Dias: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"days\" className=\"ml-1 form-control\"\n                  aria-label=\"Dias reduzidos\"\n                  value={newSentence.days} readOnly/>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <label className=\"col-sm-5 col-form-label\">Meses: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"months\" className=\"ml-1 form-control\"\n                  aria-label=\"meses reduzidos\"\n                  value={newSentence.months} readOnly/>\n              </div>\n            </div>\n\n            <div className=\"row\">\n              <label className=\"col-sm-5 col-form-label\">Anos: </label>\n              <div className=\"col-sm-4\">\n                <input name=\"years\" className=\"ml-1 form-control\"\n                  aria-label=\"anos reduzidos\"\n                  value={newSentence.years} readOnly/>\n              </div>\n            </div>\n\n          </div>\n        </div>\n        \n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}